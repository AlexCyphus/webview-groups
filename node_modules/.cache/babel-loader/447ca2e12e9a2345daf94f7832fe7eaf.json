{"ast":null,"code":"import _classCallCheck from\"/Users/alexcyphus/Desktop/code/webviews/webview-groups/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexcyphus/Desktop/code/webviews/webview-groups/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/alexcyphus/Desktop/code/webviews/webview-groups/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/alexcyphus/Desktop/code/webviews/webview-groups/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexcyphus/Desktop/code/webviews/webview-groups/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ActionButton from\"./components/ActionButton\";import Category from\"./components/Category\";import'./App.scss';var NativeApp={sendTrackingPoint:function sendTrackingPoint(name){console.log(name);}};//window.NativeApp\nfunction tp(name){if(name==undefined){return null;}var prefix=\"Exp_Grp_\";name=prefix+name;NativeApp.sendTrackingPoint(name);}var categoryData={srsLrn:{title:\"Serious learning\",description:\"Find other learners looking to rapidly improve their language skills\",image:\"/emojis/31.svg\"},// relaxedLearning: {\n//   title: \"Relaxed learning\",\n//   description: \"Meet language learners interested in chatting while improving their language skills.\",\n//   image: \"/emojis/32.svg\" \n// },\njstChat:{title:\"Just chatting\",description:\"Meet and chat with Tandem members from all over the world.\",image:\"/emojis/34.svg\"},hbbyInts:{title:\"Hobbies and interests\",description:\"Find out what people do for fun around the globe.\",image:\"/emojis/30.svg\"},tndPair:{title:\"Tandem Pair\",description:\"Join a group with another English speaker and two Spanish speakers.\",image:\"/emojis/33.svg\"}};var chatData={srsLrn:[\"Grammar tips\",\"Useful vocab + phrases\",\"Pronounciation help\",\"Learning resources\"],relaxedLearning:[\"What are your favorite ways to learn?\",\"Learning tips\",\"Big group Tandem\",\"Book recommendations\"],jstChat:[\"How's your day?\",\"Introduce yourself!\",\"What is the meaning of life?\",\"Gossip\"],hbbyInts:[\"Sports\",\"TV Shows\",\"Music\",\"Exploring nature\"]};// should randomize these here to prevent duplicates\nvar emojis=Array.from({length:9},function(_,i){return i+1;});var flags=Array.from({length:11},function(_,i){return i+14;});var groupSizes=[6,11,22,105];function shuffleArray(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var _ref=[array[j],array[i]];array[i]=_ref[0];array[j]=_ref[1];}return array;}// random for each\nvar randomData={screensEmojis:shuffleArray(emojis).slice(0,4),screensGroupSizes:shuffleArray(groupSizes)};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={screen:\"public\",popup:false,publicGroup:true,showsOver:false,value:''};_this.handleScreenChange=_this.handleScreenChange.bind(_assertThisInitialized(_this));_this.handleBackToPublic=_this.handleBackToPublic.bind(_assertThisInitialized(_this));_this.togglePopup=_this.togglePopup.bind(_assertThisInitialized(_this));_this.toggleShowsOver=_this.toggleShowsOver.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"handleScreenChange\",value:function handleScreenChange(screen){if(this.state.screen==screen){return;}this.setState({screen:screen});}},{key:\"handleChange\",value:function handleChange(e){console.log('bang');}},{key:\"handleOpenGroup\",value:function handleOpenGroup(group,trackingPoint){tp(trackingPoint);var screen=\"category_\"+group;if(group==\"tndPair\"){return this.toggleShowsOver();}this.setState({screen:screen});}},{key:\"handleBackToPublic\",value:function handleBackToPublic(trackingPoint){tp(trackingPoint);this.setState({screen:\"public\"});}},{key:\"togglePopup\",value:function togglePopup(publicGroup,trackingPoint){tp(trackingPoint);var isPublic=\"\";if(publicGroup){isPublic=true;}else{isPublic=false;}this.setState({publicGroup:isPublic,popup:!this.state.popup,showsOver:false});}},{key:\"toggleShowsOver\",value:function toggleShowsOver(){var dontPopup=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var trackingPoint=arguments.length>1?arguments[1]:undefined;tp(trackingPoint);tp(\"SryMsgSeen\");if(dontPopup){this.togglePopup();}this.setState({showsOver:true});if(trackingPoint==\"CrtPblicChat_Clicked\"||trackingPoint==\"CrtPrvtChat_Clicked\"){var privacy=trackingPoint.split(\"\")[7]===\"u\"?\"Public\":\"Private\";var groupName=document.getElementById(\"groupName\").value;var xhr=new XMLHttpRequest();var url=\"https://script.google.com/macros/s/AKfycbyqLtrrzDQWFSrrklsHJ-DxYChynLXTlnrg9tVtNJbZFJUhvDY/exec?groupName=\"+groupName+\"&privacy=\"+privacy;xhr.open('GET',url);xhr.send();}}},{key:\"render\",value:function render(){var _this2=this;var Screen=function Screen(){return null;};var arrayOfCategories=shuffleArray(Object.keys(categoryData));// if on the public screen\nif(this.state.screen==\"public\"){tp(\"PublicSeen\");Screen=function Screen(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row-holder\"},arrayOfCategories.map(function(category){var tp=category+\"_Clckd\";return/*#__PURE__*/React.createElement(Category,{data:categoryData[category],onClick:function onClick(){return _this2.handleOpenGroup(category,tp);},itemType:\"category\"});})),/*#__PURE__*/React.createElement(\"div\",{className:\"see-more-holder\"},/*#__PURE__*/React.createElement(ActionButton,{text:\"See more\",color:\"blue\",action:function action(){return _this2.toggleShowsOver(true,\"SeeMoreClicked\");}})));};}// if on the private screen \nelse if(this.state.screen==\"private\"){tp(\"PrivateSeen\");Screen=function Screen(){return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center p-5\"},/*#__PURE__*/React.createElement(\"p\",null,\"Looks like you don't have any group chats yet...\"),/*#__PURE__*/React.createElement(\"img\",{src:\"/emojis/4.svg\",className:\"py-3 private-chat-image\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"pb-3\"},\"Have some Tandem partners you want to invite to a group chat?\"),/*#__PURE__*/React.createElement(ActionButton,{text:\"Start a private group chat\",color:\"blue\",action:function action(){return _this2.togglePopup(false,\"StrtPrivChat_Clickd\");}})));};}// if inside a group category\nelse if(this.state.screen.split(\"_\")[0]==\"category\"){var category=this.state.screen.split(\"_\")[1];var chatsFlags=[];Screen=function Screen(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"category-header d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"back-arrow d-flex\",onClick:function onClick(){return _this2.handleBackToPublic(\"BckBtn_Clckd\");}},/*#__PURE__*/React.createElement(\"img\",{src:\"/arrow.png\",className:\"arrow m-auto\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"category-title-holder\"},/*#__PURE__*/React.createElement(\"p\",{className:\"category-title\"},categoryData[category].title))),/*#__PURE__*/React.createElement(\"div\",{className:\"row-holder\"},chatData[category].map(function(item,i){chatsFlags=shuffleArray(flags).slice(0,4);var trackingPoint=category+\"_\"+item.split(\" \")[0].replace(/[^a-zA-Z0-9]/,'')+\"_\"+randomData.screensGroupSizes[i];return/*#__PURE__*/React.createElement(Category,{data:item,key:i,itemType:\"chat\",randomData:randomData,index:i,chatsFlags:chatsFlags,onClick:function onClick(){return _this2.toggleShowsOver(true,trackingPoint);}});})),/*#__PURE__*/React.createElement(\"div\",{className:\"create-public-group-holder text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\",id:\"button-holder\"},/*#__PURE__*/React.createElement(\"p\",{className:\"pb-2\"},\"Want to chat about something else?\"),/*#__PURE__*/React.createElement(ActionButton,{text:\"Start public group chat\",color:\"blue\",action:function action(){return _this2.togglePopup(true,\"StartPublicChat_Clcked\");}}))));};}var Popup=function Popup(){if(_this2.state.showsOver){return/*#__PURE__*/React.createElement(\"div\",{className:\"popup-main px-3 \"+(_this2.state.popup?\"d-block\":\"d-none\")},/*#__PURE__*/React.createElement(\"p\",{className:\"text-center create-group-title\"},\"Sorry...\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center py-3\"},\"Tandem groups aren\\u2019t quite ready yet. We\\u2019ll let you know when they are fully available.\"),/*#__PURE__*/React.createElement(ActionButton,{text:\"Back to groups\",color:\"blue\",specId:\"back-to-groups\",action:function action(){return _this2.togglePopup(null,\"BckToGrps_Clckd\");}}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"popup-main px-3 \"+(_this2.state.popup?\"d-block\":\"d-none\")},/*#__PURE__*/React.createElement(\"p\",{className:\"text-center create-group-title\"},_this2.state.publicGroup?\"Create a public group\":\"Create a private group\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},_this2.state.publicGroup?\"Create a group chat that anyone on Tandem with your language pairing can join.\":\"Create a private group chat and invite your Tandem partners to join.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-holder\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Group name\",id:\"groupName\",className:\"mb-3\"})),/*#__PURE__*/React.createElement(ActionButton,{type:\"submit\",text:_this2.state.publicGroup?\"Create Public Group Chat\":\"Create Private Group Chat\",color:\"blue\",specId:\"create-group-chat\",action:function action(){return _this2.toggleShowsOver(false,_this2.state.publicGroup?\"CrtPblicChat_Clicked\":\"CrtPrvtChat_Clicked\");}}),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center cancel\",onClick:function onClick(){return _this2.togglePopup(null,\"Cancel\");}},\"Cancel\"));};return/*#__PURE__*/React.createElement(\"div\",{className:\"app h-100\"},/*#__PURE__*/React.createElement(Popup,null),/*#__PURE__*/React.createElement(\"div\",{className:\"overlay w-100 h-100 \"+(this.state.popup?\"d-flex\":\"d-none\"),onClick:this.togglePopup}),this.state.screen==\"public\"||this.state.screen==\"private\"?/*#__PURE__*/React.createElement(\"div\",{className:\"sliding-header d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tab-slider col-6 text-center bold \"+(this.state.screen==\"public\"?'blue':null),onClick:function onClick(){return _this2.handleScreenChange(\"public\");}},/*#__PURE__*/React.createElement(\"p\",null,\"Public\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tab-slider col-6 text-center bold \"+(this.state.screen==\"private\"?'blue':null),onClick:function onClick(){return _this2.handleScreenChange(\"private\");}},/*#__PURE__*/React.createElement(\"p\",null,\"Private\"))):null,/*#__PURE__*/React.createElement(Screen,null));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/alexcyphus/Desktop/code/webviews/webview-groups/src/App.js"],"names":["React","Component","ActionButton","Category","NativeApp","sendTrackingPoint","name","console","log","tp","undefined","prefix","categoryData","srsLrn","title","description","image","jstChat","hbbyInts","tndPair","chatData","relaxedLearning","emojis","Array","from","length","_","i","flags","groupSizes","shuffleArray","array","j","Math","floor","random","randomData","screensEmojis","slice","screensGroupSizes","App","state","screen","popup","publicGroup","showsOver","value","handleScreenChange","bind","handleBackToPublic","togglePopup","toggleShowsOver","handleChange","setState","e","group","trackingPoint","isPublic","dontPopup","privacy","split","groupName","document","getElementById","xhr","XMLHttpRequest","url","open","send","Screen","arrayOfCategories","Object","keys","map","category","handleOpenGroup","chatsFlags","item","replace","Popup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ActionButton from \"./components/ActionButton\"\nimport Category from \"./components/Category\"\nimport './App.scss';\n\n\nconst NativeApp = {sendTrackingPoint: (name) => {console.log(name)}} //window.NativeApp\n\nfunction tp(name){\n  if (name == undefined){\n    return null\n  }\n  \n  const prefix = \"Exp_Grp_\"\n  name = prefix + name\n  NativeApp.sendTrackingPoint(name)\n}\n\nconst categoryData = {\n  srsLrn: {\n    title: \"Serious learning\",\n    description: \"Find other learners looking to rapidly improve their language skills\",\n    image: \"/emojis/31.svg\"\n  },\n  // relaxedLearning: {\n  //   title: \"Relaxed learning\",\n  //   description: \"Meet language learners interested in chatting while improving their language skills.\",\n  //   image: \"/emojis/32.svg\" \n  // },\n  jstChat: {\n    title: \"Just chatting\",\n    description: \"Meet and chat with Tandem members from all over the world.\",\n    image: \"/emojis/34.svg\" \n  },\n  hbbyInts: {\n    title: \"Hobbies and interests\",\n    description: \"Find out what people do for fun around the globe.\",\n    image: \"/emojis/30.svg\" \n  },\n  tndPair: {\n    title: \"Tandem Pair\",\n    description: \"Join a group with another English speaker and two Spanish speakers.\",\n    image: \"/emojis/33.svg\" \n  }\n}\n\n\nconst chatData = {\n  srsLrn: [\"Grammar tips\", \"Useful vocab + phrases\", \"Pronounciation help\", \"Learning resources\"],\n  relaxedLearning: [\"What are your favorite ways to learn?\", \"Learning tips\", \"Big group Tandem\", \"Book recommendations\"],\n  jstChat: [\"How's your day?\", \"Introduce yourself!\", \"What is the meaning of life?\", \"Gossip\"],\n  hbbyInts: [\"Sports\", \"TV Shows\", \"Music\", \"Exploring nature\"]\n}\n\n// should randomize these here to prevent duplicates\nconst emojis = Array.from({length: 9}, (_, i) => i + 1)\nconst flags = Array.from({length: 11}, (_, i) => i + 14)\nconst groupSizes = [6, 11, 22, 105]\n\nfunction shuffleArray(array) {\n  for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array\n}\n\n// random for each\nvar randomData = {\n  screensEmojis: shuffleArray(emojis).slice(0,4),\n  screensGroupSizes: shuffleArray(groupSizes)\n}\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      screen: \"public\",\n      popup: false,\n      publicGroup: true,\n      showsOver: false,\n      value: ''\n    }\n    this.handleScreenChange = this.handleScreenChange.bind(this)\n    this.handleBackToPublic = this.handleBackToPublic.bind(this)\n    this.togglePopup = this.togglePopup.bind(this)\n    this.toggleShowsOver = this.toggleShowsOver.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  componentDidMount() {}\n\n  handleScreenChange(screen){\n    if (this.state.screen == screen){return}\n    this.setState({screen})\n  }\n\n  handleChange(e){\n    console.log('bang')\n  }\n\n  handleOpenGroup(group, trackingPoint){\n    tp(trackingPoint)\n    let screen = \"category_\" + group\n    if (group == \"tndPair\"){\n      return this.toggleShowsOver()\n    }\n    this.setState({screen})\n  }\n\n  handleBackToPublic(trackingPoint){\n    tp(trackingPoint)\n    this.setState({screen: \"public\"})\n  }\n\n  togglePopup(publicGroup, trackingPoint){\n    tp(trackingPoint)\n    \n    var isPublic = \"\"\n\n    if (publicGroup){isPublic = true}\n    else {isPublic = false}\n    \n    this.setState({\n      publicGroup: isPublic,\n      popup: !this.state.popup,\n      showsOver: false\n    })\n  }\n\n  toggleShowsOver(dontPopup=true, trackingPoint){\n    tp(trackingPoint)\n    tp(\"SryMsgSeen\")\n    if(dontPopup){this.togglePopup()}\n    this.setState({showsOver: true})\n    if(trackingPoint == \"CrtPblicChat_Clicked\" || trackingPoint == \"CrtPrvtChat_Clicked\"){\n      let privacy = trackingPoint.split(\"\")[7] === \"u\" ? \"Public\" : \"Private\"\n      let groupName = document.getElementById(\"groupName\").value\n      var xhr = new XMLHttpRequest()\n      var url = \"https://script.google.com/macros/s/AKfycbyqLtrrzDQWFSrrklsHJ-DxYChynLXTlnrg9tVtNJbZFJUhvDY/exec?groupName=\"+groupName+\"&privacy=\"+privacy\n      xhr.open('GET',url);\n      xhr.send();\n    }\n  }\n  \n  render() {\n    let Screen = () => null\n\n    var arrayOfCategories = shuffleArray(Object.keys(categoryData))\n\n    // if on the public screen\n    if (this.state.screen == \"public\"){\n      tp(\"PublicSeen\")\n      Screen = () => {return (\n        <>\n          <div className=\"row-holder\">\n            {arrayOfCategories.map(category => {\n              let tp = category+\"_Clckd\"\n              return <Category data={categoryData[category]} onClick={() => this.handleOpenGroup(category, tp)} itemType=\"category\"/>\n            })\n            }\n          </div>\n          <div className=\"see-more-holder\"><ActionButton text=\"See more\" color=\"blue\" action={() => this.toggleShowsOver(true, \"SeeMoreClicked\")}/></div>\n        </>\n      )}\n    }\n\n    // if on the private screen \n    else if (this.state.screen == \"private\"){\n      tp(\"PrivateSeen\")\n      Screen = () => {return (\n        <div className=\"text-center p-5\">\n          <p>Looks like you don't have any group chats yet...</p>\n          <img src=\"/emojis/4.svg\" className=\"py-3 private-chat-image\"/>\n          <div className=\"mt-3\">\n            <p className=\"pb-3\">Have some Tandem partners you want to invite to a group chat?</p>\n            <ActionButton text=\"Start a private group chat\" color=\"blue\" action={() => this.togglePopup(false, \"StrtPrivChat_Clickd\")}/>\n          </div>\n        </div>\n      )}\n    }\n\n    // if inside a group category\n    else if (this.state.screen.split(\"_\")[0] == \"category\"){\n      var category = this.state.screen.split(\"_\")[1]\n\n      var chatsFlags = []\n\n\n      Screen = () => {return (\n        <>\n        <div className=\"category-header d-flex\">\n          <div className=\"back-arrow d-flex\" onClick={() => this.handleBackToPublic(\"BckBtn_Clckd\")}>\n            <img src=\"/arrow.png\" className=\"arrow m-auto\"/>\n          </div>\n          <div className=\"category-title-holder\">\n            <p className=\"category-title\">{categoryData[category].title}</p>\n          </div>\n        </div>\n        <div className=\"row-holder\">\n          {chatData[category].map((item, i) => {\n            chatsFlags = shuffleArray(flags).slice(0, 4)\n            let trackingPoint = category+\"_\"+item.split(\" \")[0].replace(/[^a-zA-Z0-9]/, '')+\"_\"+randomData.screensGroupSizes[i]\n            return <Category data={item} key={i} itemType=\"chat\" randomData={randomData} index={i} chatsFlags={chatsFlags} onClick={() => this.toggleShowsOver(true, trackingPoint)}/>\n          })\n          }\n      </div>\n      <div className=\"create-public-group-holder text-center\">\n        <div className=\"m-auto\" id=\"button-holder\">\n          <p className=\"pb-2\">Want to chat about something else?</p>\n          <ActionButton text=\"Start public group chat\" color=\"blue\" action={() => this.togglePopup(true, \"StartPublicChat_Clcked\")}/>\n        </div>\n      </div>\n      </>\n      )}\n    }\n\n    let Popup = () => {\n      \n      if (this.state.showsOver) {\n        return (\n          <div className={\"popup-main px-3 \" + (this.state.popup ? \"d-block\": \"d-none\")}>\n            <p className='text-center create-group-title'>Sorry...</p>\n            <p className='text-center py-3'>Tandem groups aren’t quite ready yet. We’ll let you know when they are fully available.</p>\n            <ActionButton text=\"Back to groups\" color=\"blue\" specId=\"back-to-groups\" action={() => this.togglePopup(null, \"BckToGrps_Clckd\")}/>\n          </div> \n        )\n      }\n\n      return (\n        <div className={\"popup-main px-3 \" + (this.state.popup ? \"d-block\": \"d-none\")}>\n          <p className='text-center create-group-title'>{this.state.publicGroup ? \"Create a public group\" : \"Create a private group\"}</p>\n          <p className='text-center'>{this.state.publicGroup ? \"Create a group chat that anyone on Tandem with your language pairing can join.\" : \"Create a private group chat and invite your Tandem partners to join.\"}</p>\n          <div className=\"input-holder\">\n            <input placeholder=\"Group name\" id=\"groupName\" className=\"mb-3\"></input>\n          </div>\n          <ActionButton type=\"submit\" text={this.state.publicGroup ? \"Create Public Group Chat\" : \"Create Private Group Chat\"} color=\"blue\" specId=\"create-group-chat\" action={() => this.toggleShowsOver(false, this.state.publicGroup ? \"CrtPblicChat_Clicked\" : \"CrtPrvtChat_Clicked\")}/>\n          <p className=\"text-center cancel\" onClick={() => this.togglePopup(null, \"Cancel\")}>Cancel</p>\n        </div> \n      )\n    }\n\n    return (\n      <div className=\"app h-100\">\n        <Popup/>\n        <div className={\"overlay w-100 h-100 \" + (this.state.popup ? \"d-flex\": \"d-none\")} onClick={this.togglePopup}></div>\n        {this.state.screen == \"public\" || this.state.screen == \"private\" \n        ? <div className=\"sliding-header d-flex\">\n          <div className={\"tab-slider col-6 text-center bold \" + (this.state.screen == \"public\" ? 'blue' : null)} onClick={() => this.handleScreenChange(\"public\")}><p>Public</p></div>\n          <div className={\"tab-slider col-6 text-center bold \" + (this.state.screen == \"private\" ? 'blue' : null)} onClick={() => this.handleScreenChange(\"private\")}><p>Private</p></div>\n        </div>\n        : null}\n        <Screen/>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}