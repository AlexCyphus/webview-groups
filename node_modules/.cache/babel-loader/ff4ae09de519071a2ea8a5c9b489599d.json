{"ast":null,"code":"var _jsxFileName = \"/Users/alexcyphus/Desktop/code/experiments/exp-1/src/App.js\";\nimport React, { Component } from 'react';\nimport Post from \"./components/Post\";\nimport Popup from \"./components/Popup\";\nimport ActionButton from \"./components/ActionButton\";\n\nconst mysql = require('mysql');\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      card: 0,\n      id: 0\n    };\n    this.togglePopup = this.togglePopup.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clickContent = this.clickContent.bind(this);\n    this.clickFeedback = this.clickFeedback.bind(this);\n  } // don't load anything for a second\n  // more diversity of content\n  // text area answering box should be clearing responses and the keyboard shouldn't cover it. https://stackoverflow.com/questions/51606099/how-to-detect-when-keyboard-is-opened-or-closed-in-react-native\n  // send clicks to the backend\n  //  CLEARDB_DATABASE_URL: mysql://ba7f4376abe00d:2aaec46f@us-cdbr-east-02.cleardb.com/heroku_aaae19a4220d4fe?reconnect=true\n\n\n  componentDidMount() {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', '/api/initiate');\n    xhr.send();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        this.setState({\n          id: JSON.parse(xhr.response).id\n        });\n      }\n    };\n  }\n\n  sendJson(json, type = \"nada\") {\n    // im not using the sent json anymore im just too scared to delete it\n    var xhr = new XMLHttpRequest();\n    var url = '';\n\n    if (type == \"close\") {\n      var url = '/api/close_clicked';\n    } else if (type == \"content\") {\n      var url = '/api/content_clicked';\n    } else {\n      if (this.state.card == 0) {\n        var url = '/api/see_more_clicked';\n      }\n\n      if (this.state.card == 1) {\n        var url = \"/api/upgrade_clicked\";\n      }\n\n      if (this.state.card == 2) {\n        var url = \"/api/give_feedback_clicked\";\n      }\n    }\n\n    xhr.open('PUT', url);\n    xhr.setRequestHeader('Content-type', 'application/json');\n    var json = JSON.stringify(json);\n    xhr.send(json);\n  }\n\n  togglePopup(button = true) {\n    var newCard = this.state.card + 1;\n    this.setState({\n      card: newCard\n    });\n\n    if (button) {\n      this.sendJson({\n        id: this.state.id\n      });\n    }\n  }\n\n  handleChange(e) {\n    this.setState({\n      value: e\n    });\n  }\n\n  handleSubmit() {// send to the backend\n  }\n\n  closePopup() {\n    this.setState({\n      card: 0\n    });\n    this.sendJson({\n      literally: \"whatever\"\n    }, \"close\");\n  }\n\n  clickContent() {\n    this.togglePopup(false);\n    this.sendJson({\n      literally: \"whatever\"\n    }, \"content\");\n  }\n\n  clickFeedback(survey) {\n    this.sendJson();\n    window.location.replace(survey);\n  }\n\n  handleSendData(data) {\n    var xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => {\n      console.log(xhr.responseText);\n    });\n    xhr.open('GET', 'https://script.google.com/macros/s/AKfycbzvr-cEKCg6qEdLNl56REPxoMcLtdzhL_j4_R9iFZihbbvwRz5A/exec?data=\"' + data + \"'\");\n    xhr.send();\n  } //<button onClick={() => this.handleSendUsername('test')}>Hello World</button>\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      card: this.state.card,\n      togglePopup: this.togglePopup,\n      closePopup: this.closePopup,\n      value: this.value,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      clickFeedback: this.clickFeedback,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.card ? 'black' : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Post, {\n      name: \"Alex\",\n      time: \"1\",\n      postImage: \"llama.png\",\n      message: \"Have you ever been to Peru? I just got to Nazca and am absolutely in love with Peruvian culture. I got spat on by a llama but that's okay. \\xA1Viva Per\\xFA!\",\n      likes: \"155\",\n      comments: \"55\",\n      togglePopup: this.clickContent,\n      userImage: \"alex.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Post, {\n      name: \"Tamara\",\n      time: \"15\",\n      message: \"Has anyone read the Harry Potter series? I have never read it before \\uD83D\\uDE2C. Would you recommend it? What is so great about it? Is the British English hard to understand?\",\n      likes: \"20\",\n      comments: \"3\",\n      userImage: \"tamara.png\",\n      togglePopup: this.clickContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Post, {\n      name: \"Chelsea\",\n      time: \"36\",\n      postImage: \"audio.png\",\n      message: \"How's my prounciation?\",\n      likes: \"43\",\n      comments: \"32\",\n      userImage: \"chelsea.png\",\n      specId: \"audio\",\n      togglePopup: this.clickContent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ActionButton, {\n      action: this.togglePopup,\n      text: \"SEE MORE\",\n      specId: \"see-more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/alexcyphus/Desktop/code/experiments/exp-1/src/App.js"],"names":["React","Component","Post","Popup","ActionButton","mysql","require","App","constructor","state","card","id","togglePopup","bind","closePopup","handleChange","handleSubmit","clickContent","clickFeedback","componentDidMount","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","setState","JSON","parse","response","sendJson","json","type","url","setRequestHeader","stringify","button","newCard","e","value","literally","survey","window","location","replace","handleSendData","data","addEventListener","console","log","responseText","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Post from \"./components/Post\"\nimport Popup from \"./components/Popup\"\nimport ActionButton from \"./components/ActionButton\"\nconst mysql = require('mysql');\n\nclass App extends Component {\n  constructor() {\n    super()\n    this.state = {\n      card: 0,\n      id: 0\n    }\n    this.togglePopup = this.togglePopup.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.clickContent = this.clickContent.bind(this);\n    this.clickFeedback = this.clickFeedback.bind(this);\n  }\n\n  // don't load anything for a second\n  // more diversity of content\n  // text area answering box should be clearing responses and the keyboard shouldn't cover it. https://stackoverflow.com/questions/51606099/how-to-detect-when-keyboard-is-opened-or-closed-in-react-native\n  // send clicks to the backend\n  //  CLEARDB_DATABASE_URL: mysql://ba7f4376abe00d:2aaec46f@us-cdbr-east-02.cleardb.com/heroku_aaae19a4220d4fe?reconnect=true\n\n  componentDidMount() {\n    var xhr = new XMLHttpRequest()\n    xhr.open('GET','/api/initiate');\n    xhr.send();\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        this.setState({id: JSON.parse(xhr.response).id});\n      }\n    }\n  }\n\n  sendJson(json, type=\"nada\") {\n    // im not using the sent json anymore im just too scared to delete it\n    var xhr = new XMLHttpRequest()\n    var url = ''\n    if (type == \"close\") {var url = '/api/close_clicked'}\n    else if (type == \"content\") {var url = '/api/content_clicked'}\n\n\n    else {\n      if (this.state.card == 0) {var url = '/api/see_more_clicked'}\n      if (this.state.card == 1) {var url = \"/api/upgrade_clicked\"}\n      if (this.state.card == 2) {var url = \"/api/give_feedback_clicked\"}\n    }\n\n    xhr.open('PUT', url)\n    xhr.setRequestHeader('Content-type','application/json');\n    var json = JSON.stringify(json)\n    xhr.send(json)\n  }\n\n  togglePopup(button=true) {\n    var newCard = this.state.card + 1\n    this.setState({card: newCard});\n    if (button) {\n      this.sendJson({id: this.state.id})\n    }\n  }\n\n\n  handleChange(e){\n    this.setState({value: e});\n  }\n\n  handleSubmit(){\n    // send to the backend\n  }\n\n  closePopup(){\n    this.setState({card: 0})\n    this.sendJson({literally: \"whatever\"}, \"close\")\n  }\n\n  clickContent(){\n    this.togglePopup(false)\n    this.sendJson({literally: \"whatever\"}, \"content\")\n  }\n\n  clickFeedback(survey){\n    this.sendJson()\n    window.location.replace(survey);\n  }\n\n\n  handleSendData(data) {\n    var xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', () => {console.log(xhr.responseText)})\n    xhr.open('GET','https://script.google.com/macros/s/AKfycbzvr-cEKCg6qEdLNl56REPxoMcLtdzhL_j4_R9iFZihbbvwRz5A/exec?data=\"' + data + \"'\")\n    xhr.send()\n  }\n\n  //<button onClick={() => this.handleSendUsername('test')}>Hello World</button>\n\n  render() {\n    return (\n      <div className=\"app\">\n        <Popup card={this.state.card} togglePopup={this.togglePopup} closePopup = {this.closePopup} value={this.value} handleChange={this.handleChange} handleSubmit={this.handleSubmit} clickFeedback={this.clickFeedback}/>\n        <div>\n        </div>\n        <div className={this.state.card ? 'black' : ''}></div>\n        <Post\n          name=\"Alex\"\n          time=\"1\"\n          postImage=\"llama.png\"\n          message=\"Have you ever been to Peru? I just got to Nazca and am absolutely in love with Peruvian culture. I got spat on by a llama but that's okay. ¡Viva Perú!\"\n          likes=\"155\"\n          comments=\"55\"\n          togglePopup = {this.clickContent}\n          userImage = \"alex.png\"\n        />\n        <Post\n          name=\"Tamara\"\n          time=\"15\"\n          message=\"Has anyone read the Harry Potter series? I have never read it before 😬. Would you recommend it? What is so great about it? Is the British English hard to understand?\"\n          likes=\"20\"\n          comments=\"3\"\n          userImage = \"tamara.png\"\n          togglePopup = {this.clickContent}\n        />\n        <Post\n          name=\"Chelsea\"\n          time=\"36\"\n          postImage=\"audio.png\"\n          message=\"How's my prounciation?\"\n          likes=\"43\"\n          comments=\"32\"\n          userImage = \"chelsea.png\"\n          specId = \"audio\"\n          togglePopup = {this.clickContent}\n        />\n        <ActionButton action={this.togglePopup} text=\"SEE MORE\" specId=\"see-more\"/>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}